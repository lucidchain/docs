"use strict";(self.webpackChunklucid_docs=self.webpackChunklucid_docs||[]).push([[22616],{8648:(e,o,n)=>{n.r(o),n.d(o,{assets:()=>d,contentTitle:()=>l,default:()=>m,frontMatter:()=>a,metadata:()=>c,toc:()=>h});var t=n(85893),r=n(11151),s=n(16905),i=n(73839);const a={sidebar_position:2,tags:["lucid-chain","CORS","troubleshooting","vite","set up","development"],keywords:["CORS error","405 Method Not Allowed","env variables","Vite","backend API"],authors:[{name:"Daniel Galv\xe1n Cancio",title:"Project Contributor",url:"https://github.com/Dangalcan",image_url:"https://avatars.githubusercontent.com/u/92941017"}]},l="Cors",c={id:"Troubleshooting/CORS/cors",title:"Cors",description:"In this section you are going to learn how to resolve some cors problems that you may have with Lucid chain.",source:"@site/docs/Troubleshooting/CORS/cors.md",sourceDirName:"Troubleshooting/CORS",slug:"/Troubleshooting/CORS/",permalink:"/docs/docs/next/Troubleshooting/CORS/",draft:!1,unlisted:!1,editUrl:"https://github.com/lucidchain/docs/tree/main/packages/create-docusaurus/templates/shared/docs/Troubleshooting/CORS/cors.md",tags:[{label:"lucid-chain",permalink:"/docs/docs/next/tags/lucid-chain"},{label:"CORS",permalink:"/docs/docs/next/tags/cors"},{label:"troubleshooting",permalink:"/docs/docs/next/tags/troubleshooting"},{label:"vite",permalink:"/docs/docs/next/tags/vite"},{label:"set up",permalink:"/docs/docs/next/tags/set-up"},{label:"development",permalink:"/docs/docs/next/tags/development"}],version:"current",lastUpdatedBy:"dangalcan",lastUpdatedAt:1745909126,formattedLastUpdatedAt:"Apr 29, 2025",sidebarPosition:2,frontMatter:{sidebar_position:2,tags:["lucid-chain","CORS","troubleshooting","vite","set up","development"],keywords:["CORS error","405 Method Not Allowed","env variables","Vite","backend API"],authors:[{name:"Daniel Galv\xe1n Cancio",title:"Project Contributor",url:"https://github.com/Dangalcan",image_url:"https://avatars.githubusercontent.com/u/92941017"}]},sidebar:"documentationSidebar",previous:{title:"Introduction",permalink:"/docs/docs/next/Troubleshooting/Troubleshooting-introduction"},next:{title:"Payload too large",permalink:"/docs/docs/next/Troubleshooting/Payload too large/"}},d={},h=[{value:"Introduction",id:"introduction",level:2},{value:"405 Methond Not Allowed",id:"405-methond-not-allowed",level:2},{value:"Still having problems",id:"still-having-problems",level:2}];function u(e){const o={a:"a",br:"br",code:"code",em:"em",h1:"h1",h2:"h2",img:"img",p:"p",pre:"pre",strong:"strong",...(0,r.a)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(o.h1,{id:"cors",children:"Cors"}),"\n","\n","\n",(0,t.jsx)(o.p,{children:"In this section you are going to learn how to resolve some cors problems that you may have with Lucid chain."}),"\n",(0,t.jsx)(o.h2,{id:"introduction",children:"Introduction"}),"\n",(0,t.jsx)(o.p,{children:"CORS can be something very annoying. Here we are going to explain how to avoid conflics with cors and credentials."}),"\n",(0,t.jsx)(o.h2,{id:"405-methond-not-allowed",children:"405 Methond Not Allowed"}),"\n",(0,t.jsxs)(o.p,{children:["If you are trying to connect to your Lucid chain instance in ",(0,t.jsx)(o.em,{children:(0,t.jsx)(o.strong,{children:(0,t.jsx)(o.a,{href:"http://localhost:5173",children:"http://localhost:5173"})})})," because you ran ",(0,t.jsx)(o.em,{children:(0,t.jsx)(o.strong,{children:"npm run dev"})})," command, and you are not able to connect your Redmine or iTop instance to this Lucid chain, check the HTTP requests.  If in those HTTP responses you are receiving messages with the following format:"]}),"\n",(0,t.jsx)(o.pre,{children:(0,t.jsx)(o.code,{className:"language-json",children:'{"type":"error","error":{"message":"Method Not Allowed"}}\n'})}),"\n",(0,t.jsxs)(o.p,{children:["and in your browser console you see ",(0,t.jsx)(o.strong,{children:"Failed to load resource: the server responded with a status of 405 (Method Not Allowed)"}),", check the backend."]}),"\n",(0,t.jsx)("div",{align:"center",children:(0,t.jsxs)(o.p,{children:[(0,t.jsx)(o.img,{alt:"405 error in browser",src:n(44201).Z+"",width:"1151",height:"687"}),(0,t.jsx)(o.br,{}),"\n",(0,t.jsx)(o.strong,{children:"Figure 1:"})," ",(0,t.jsx)(o.em,{children:"Browser 405 errors."})]})}),"\n",(0,t.jsxs)(o.p,{children:["Check the terminal where you executed ",(0,t.jsx)(o.em,{children:(0,t.jsx)(o.strong,{children:"npm run dev"})}),". If you see something like:\n",(0,t.jsx)(o.em,{children:(0,t.jsx)(o.strong,{children:"SvelteKitError: POST method not allowed. No actions exist for this page"})})," read carefully. Something like this error may display:"]}),"\n",(0,t.jsx)(o.pre,{children:(0,t.jsx)(o.code,{className:"language-text",children:"SvelteKitError: POST method not allowed. No actions exist for this page\n    at Module.handle_action_json_request (yourRouteToTheProject/lucidChain/wizard/front/node_modules/@sveltejs/kit/src/runtime/server/page/actions.js:27:28)\n    at Module.render_page (yourRouteToTheProject/lucidChain/wizard/front/node_modules/@sveltejs/kit/src/runtime/server/page/index.js:44:10)\n    at async resolve (yourRouteToTheProject/lucidChain/wizard/front/node_modules/@sveltejs/kit/src/runtime/server/respond.js:449:18)\n    at async Module.respond (yourRouteToTheProject/lucidChain/wizard/front/node_modules/@sveltejs/kit/src/runtime/server/respond.js:322:20)\n    at async file:///C:yourRouteToTheProject/lucidChain/wizard/front/node_modules/@sveltejs/kit/src/exports/vite/dev/index.js:524:22 {\n  status: 405,\n  text: 'Method Not Allowed'\n}\n"})}),"\n",(0,t.jsx)("div",{align:"center",children:(0,t.jsxs)(o.p,{children:[(0,t.jsx)(o.img,{alt:"405 error in backend",src:n(50826).Z+"",width:"1486",height:"475"}),(0,t.jsx)(o.br,{}),"\n",(0,t.jsx)(o.strong,{children:"Figure 2:"})," ",(0,t.jsx)(o.em,{children:"405 error in backend."})]})}),"\n",(0,t.jsx)(o.p,{children:"Congratulations, probably your frontend enviroment variables may not be properly configured. Go to your .env en check it looks like this:"}),"\n",(0,t.jsx)(o.pre,{children:(0,t.jsx)(o.code,{className:"language-.env",children:'VITE_BACKEND_API="http://localhost:3000"\n'})}),"\n",(0,t.jsxs)(o.p,{children:["Please ensure your did not called the variable BACKEND_API or you missed the http method. It is very important because otherwise it will not work. If this did not fix the issue, go to this file: ",(0,t.jsx)(o.em,{children:(0,t.jsx)(o.strong,{children:"front\\src\\stores\\stores.js"})}),". This file contains the logic for enviroment and global variables. Do not touch it unless you know very well what you are doing. If you made changes, restore them at add this line."]}),"\n",(0,t.jsx)(o.pre,{children:(0,t.jsx)(o.code,{className:"language-js",children:"export const BackendAPI = import.meta.env.VITE_BACKEND_API ?? '';\n"})}),"\n",(0,t.jsx)(i.Z,{children:(0,t.jsxs)(o.p,{children:["This will fix the issue because all enviroment variables ",(0,t.jsx)(o.em,{children:(0,t.jsx)(o.strong,{children:"MUST"})})," start with ",(0,t.jsx)(o.em,{children:(0,t.jsx)(o.strong,{children:"VITE_"})}),". This make Vite detect them and work with them properly."]})}),"\n",(0,t.jsxs)(s.Z,{children:[(0,t.jsx)(o.p,{children:"After that, please make sure you have the correct configuration in your backend enviroment variables. Check that your .env in back looks like this:"}),(0,t.jsx)(o.pre,{children:(0,t.jsx)(o.code,{className:"language-.env",children:"LOG_LEVEL=info  ## LOG_LEVEL CAN BE: error > warn >  info > verbose > debug > silly\nNUM_DECIMALS=2  ## 2 is the recomended. The maximum is 5. More than that doesn't make sense\n"})})]}),"\n",(0,t.jsx)(o.h2,{id:"still-having-problems",children:"Still having problems"}),"\n",(0,t.jsxs)(o.p,{children:["If you are still encountering some problems please go to the file ",(0,t.jsx)(o.em,{children:(0,t.jsx)(o.strong,{children:"back\\app.js"})})," and check cors configurations. Make sure you have something like this:"]}),"\n",(0,t.jsx)(o.pre,{children:(0,t.jsx)(o.code,{className:"language-js",children:"app.use(cors({\n    origin: ['http://localhost:5173', 'http://localhost:3000'], \n    methods: ['POST','GET'],\n    credentials: true\n  }));\n"})}),"\n",(0,t.jsxs)(s.Z,{children:[(0,t.jsxs)(o.p,{children:["If you are trying to use Lucid chain API and for any reasong you are having cors problems add your server url o the ",(0,t.jsx)(o.em,{children:(0,t.jsx)(o.strong,{children:"origin"})})," array in cors configuration, for example:"]}),(0,t.jsx)(o.pre,{children:(0,t.jsx)(o.code,{className:"language-js",children:"app.use(cors({\n    origin: ['http://localhost:5173', 'http://localhost:3000','https:myCustomServer.com:80/myCustomApp'], \n    methods: ['POST','GET'],\n    credentials: true\n  }));\n"})})]})]})}function m(e={}){const{wrapper:o}={...(0,r.a)(),...e.components};return o?(0,t.jsx)(o,{...e,children:(0,t.jsx)(u,{...e})}):u(e)}},73839:(e,o,n)=>{n.d(o,{Z:()=>s});var t=n(92949),r=n(85893);function s(e){let{children:o}=e;const{colorMode:n}=(0,t.I)();return(0,r.jsxs)("div",{style:{padding:"12px",backgroundColor:"light"==n?"#ffe6e6":"#8c2d2d",borderLeft:"5px solid #d9534f",color:"light"==n?"#a94442":"#ffe6e6",margin:"20px 0",borderRadius:"5px",fontWeight:"bold"},children:["\u26a0\ufe0f ",o]})}},16905:(e,o,n)=>{n.d(o,{Z:()=>s});var t=n(92949),r=n(85893);function s(e){let{children:o}=e;const{colorMode:n}=(0,t.I)();return(0,r.jsxs)("div",{style:{padding:"10px",backgroundColor:"light"==n?"#fffae6":"#4a2c1d",borderLeft:"5px solid #ffa500",margin:"20px 0"},children:[(0,r.jsx)("strong",{children:"Disclaimer:"})," ",o]})}},44201:(e,o,n)=>{n.d(o,{Z:()=>t});const t=n.p+"assets/images/405-NOT-ALLOWED-BROWSER-89dcd1deaa419ef8e9e9f9c25a25299b.png"},50826:(e,o,n)=>{n.d(o,{Z:()=>t});const t=n.p+"assets/images/405-NOT-ALLOWED-de96143943325022925c343444d613e6.png"},11151:(e,o,n)=>{n.d(o,{Z:()=>a,a:()=>i});var t=n(67294);const r={},s=t.createContext(r);function i(e){const o=t.useContext(s);return t.useMemo((function(){return"function"==typeof e?e(o):{...o,...e}}),[o,e])}function a(e){let o;return o=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:i(e.components),t.createElement(s.Provider,{value:o},e.children)}}}]);